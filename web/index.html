<!DOCTYPE html>

<!-- Lidi, co čtou zdrojáky, jsou sexy! -->

<!--
  Copyright (c) 2015, Filip Hracek. All rights reserved. Use of this source code
  is governed by a BSD-style license that can be found in the LICENSE file.
-->

<html>
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="scaffolded-by" content="https://github.com/google/stagehand">

  <title>Filipův ksicht</title>

  <!-- Add to homescreen for Chrome on Android -->
  <meta name="mobile-web-app-capable" content="yes">
  <link rel="icon" sizes="192x192" href="images/filip-192x192.png">
  <meta name="theme-color" content="#1B5E20">

  <!-- Add to homescreen for Safari on iOS -->
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  <meta name="apple-mobile-web-app-title" content="Web Starter Kit">
  <link rel="apple-touch-icon-precomposed" href="images/filip-114x114.png">

  <!-- Tile icon for Win8 (144x144 + tile color) -->
  <meta name="msapplication-TileImage" content="images/filip-144x144.png">
  <meta name="msapplication-TileColor" content="#1B5E20">

  <!-- Scripts -->
  <!-- #dart_concat -->
  <script async src="firebase-v2.2.9.js"></script>
  <script async src="mdl-switch.js"></script>
  <script async src="main.dart.js"></script>
  <!-- #end_dart_concat -->

  <!-- CSS -->
  <!--<link rel="stylesheet" href="styles/main.css">-->
  <!-- Inlining CSS for the benefit of slow connections. We don't want to show a blank page. -->
  <style>
    @font-face {
      font-family: 'Kalam';
      font-style: normal;
      font-weight: 700;
      src: local('Kalam Bold'), local('Kalam-Bold'), url(styles/Kalam.woff2) format('woff2');
    }
    .mdl-switch{position:relative;z-index:1;vertical-align:middle;display:inline-block;box-sizing:border-box;width:100%;height:24px;margin:0;padding:0;overflow:visible;-webkit-touch-callout:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.mdl-switch.is-upgraded{padding-left:28px}.mdl-switch__input{line-height:24px}.mdl-switch.is-upgraded .mdl-switch__input{position:absolute;width:0;height:0;margin:0;padding:0;opacity:0;-ms-appearance:none;-moz-appearance:none;-webkit-appearance:none;appearance:none;border:none}.mdl-switch__track{background:rgba(0,0,0,0.26);position:absolute;left:0;top:5px;height:14px;width:36px;border-radius:14px;cursor:pointer}.mdl-switch.is-checked .mdl-switch__track{background:rgba(76,175,80,0.5)}.mdl-switch__track fieldset[disabled] .mdl-switch,.mdl-switch.is-disabled .mdl-switch__track{background:rgba(0,0,0,0.12);cursor:auto}.mdl-switch__thumb{background:#fafafa;position:absolute;left:0;top:2px;height:20px;width:20px;border-radius:50%;cursor:pointer;box-shadow:0 2px 2px 0 rgba(0,0,0,0.14),0 3px 1px -2px rgba(0,0,0,0.2),0 1px 5px 0 rgba(0,0,0,0.12);transition-duration:0.28s;transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);transition-property:left}.mdl-switch.is-checked .mdl-switch__thumb{background:#4caf50;left:16px;box-shadow:0 3px 4px 0 rgba(0,0,0,0.14),0 3px 3px -2px rgba(0,0,0,0.2),0 1px 8px 0 rgba(0,0,0,0.12)}.mdl-switch__thumb fieldset[disabled] .mdl-switch,.mdl-switch.is-disabled .mdl-switch__thumb{background:#bdbdbd;cursor:auto}.mdl-switch__focus-helper{position:absolute;top:50%;left:50%;transform:translate(-4px, -4px);display:inline-block;box-sizing:border-box;width:8px;height:8px;border-radius:50%;background-color:transparent}.mdl-switch.is-focused .mdl-switch__focus-helper{box-shadow:0 0 0px 20px rgba(0,0,0,0.1);background-color:rgba(0,0,0,0.1)}.mdl-switch.is-focused.is-checked .mdl-switch__focus-helper{box-shadow:0 0 0px 20px rgba(76,175,80,0.26);background-color:rgba(76,175,80,0.26)}.mdl-switch__label{position:relative;cursor:pointer;font-size:16px;line-height:24px;margin:0;left:24px}.mdl-switch__label fieldset[disabled] .mdl-switch,.mdl-switch.is-disabled .mdl-switch__label{color:#bdbdbd;cursor:auto}.mdl-switch__ripple-container{position:absolute;z-index:2;top:-12px;left:-14px;box-sizing:border-box;width:48px;height:48px;border-radius:50%;cursor:pointer;overflow:hidden;-webkit-mask-image:-webkit-radial-gradient(circle, #fff, #000);transition-duration:0.40s;transition-timing-function:step-end;transition-property:left}.mdl-switch__ripple-container .mdl-ripple{background:#4caf50}.mdl-switch__ripple-container fieldset[disabled] .mdl-switch,.mdl-switch.is-disabled .mdl-switch__ripple-container{cursor:auto}fieldset[disabled] .mdl-switch .mdl-switch__ripple-container .mdl-ripple,.mdl-switch.is-disabled .mdl-switch__ripple-container .mdl-ripple{background:transparent}.mdl-switch.is-checked .mdl-switch__ripple-container{left:2px}.app-bar-container,#filip-says{display:-webkit-box;display:-webkit-flex;display:-moz-flex;display:-ms-flexbox;display:flex}#push-subscription-permission-denied{background:#FFF59D}body{margin:0;padding:0;font-family:"Helvetica", "Arial", sans-serif;font-size:14px;font-weight:400;line-height:20px}h1,h2,h3,h4{font-family:"Roboto", "Helvetica", "Arial", sans-serif;font-weight:400}h1{font-size:56px;line-height:1.35;letter-spacing:-.02em;margin:24px 0}h4{font-size:24px;line-height:32px;-moz-osx-font-smoothing:grayscale;margin:24px 0 16px}.app-bar{display:block;width:100%;position:fixed;top:0;left:0;background-color:#4CAF50;overflow:hidden;z-index:1}.app-bar-container{width:100%;height:60px;position:relative;margin:0 auto}.app-bar .logo{-webkit-box-flex:1;-webkit-flex:1;-moz-box-flex:1;-moz-flex:1;-ms-flex:1;flex:1;font-size:1.5em;line-height:60px;margin:0 16px;padding:0;color:#fefefe;float:none;max-width:none;font-weight:300;display:initial}.app-bar .logo a{text-decoration:none;color:inherit;font-weight:normal}.promote-layer{-webkit-backface-visibility:hidden;backface-visibility:hidden}main{margin:0 auto;padding:60px 16px 16px 16px;min-height:100%}#filip-says{margin-top:20px;margin-bottom:20px}#filip-says #filip-message-wrap{-webkit-box-flex:1;-webkit-flex:1 1 auto;-moz-box-flex:1;-moz-flex:1 1 auto;-ms-flex:1 1 auto;flex:1 1 auto;-webkit-align-self:center;-moz-align-self:center;-ms-flex-item-align:center;align-self:center}#filip-says #filip-message-wrap #filip-message-bubble{background:#E8F5E9;border-radius:10px;padding:10px 20px;margin:10px 0;overflow:hidden;max-height:3em;-moz-transition:max-height 0.2s ease-out;-o-transition:max-height 0.2s ease-out;-webkit-transition:max-height 0.2s ease-out;transition:max-height 0.2s ease-out}#filip-says #filip-message-wrap #filip-message-bubble.expanded{max-height:99px}@media all and (min-width: 990px){#filip-says #filip-message-wrap #filip-message-bubble{padding:10px 30px}}#filip-says #filip-message-wrap #filip-message-bubble #filip-message{font-size:1.2em;font-family:"Kalam", "Roboto","Helvetica","Arial",sans-serif;line-height:1.6em;padding:0;margin:0}@media all and (min-width: 990px){#filip-says #filip-message-wrap #filip-message-bubble #filip-message{font-size:2em}}#filip-says #filip-message-wrap #switch-container{color:rgba(0,0,0,0.5);padding:0 20px 0 10px}@media all and (min-width: 990px){#filip-says #filip-message-wrap #switch-container{padding:0 20px}}#filip-says #filip-message-wrap #switch-container label>span{font-size:1em;line-height:1.2em}@media all and (min-width: 990px){#filip-says #filip-message-wrap #switch-container label>span{font-size:1.2em}}#filip-says #filip-face{max-width:40%;align-self:center}#filip-says #filip-face img{max-width:100%;max-height:100%}#unimplemented-error{margin-top:50px;color:#F44336}.explanation{margin-top:80px;color:#999}.explanation h3{font-size:1.4em}.explanation .signature{text-align:right}.explanation a{color:#4CAF50;text-decoration:none}@media all and (min-width: 990px){.app-bar{position:relative}.app-bar-container{display:block;height:130px;max-width:864px;padding:0 0;box-sizing:border-box;background-color:#4CAF50}.app-bar .logo{float:left;margin:0;padding:0;line-height:130px;font-size:46px}.app-bar::after{content:' ';display:block;height:0;overflow:hidden;clear:both}main{max-width:864px;padding-top:0;min-height:initial}body{overflow-y:scroll}}
  </style>

  <!-- Include manifest file in the page -->
  <link rel="manifest" href="manifest.json">
</head>

<body>

  <header class="app-bar promote-layer">
    <div class="app-bar-container">
      <h1 class="logo">Filipův ksicht</h1>
    </div>
  </header>

  <main>
    <div id="home">
      <div id="filip-says">
        <div id="filip-message-wrap">
          <div id="filip-message-bubble">
            <h2 id="filip-message">&hellip;</h2>
          </div>
          <div id="switch-container">
            <label for="push-permission-switch" class="mdl-switch mdl-js-switch mdl-js-ripple-effect">
              <input type="checkbox" id="push-permission-switch" class="mdl-switch__input" disabled />
              <span class="mdl-switch__label">chci být v obraze
                <span id="subscriptions-count-message">(Filipa teď nikdo neposlouchá)</span>
              </span>
            </label>
        </div>
        </div>
        <div id="filip-face">
          <img alt="Filipův ksicht" src="images/filip-square-0.5x.png">
        </div>
      </div>

      <div id="unimplemented-error" style="display: none">
        <p>
          Omlouvám se, ale tento konkrétní prohlížeč zatím nepodporuje
          Service Worker. Viz
          <a href="http://caniuse.com/#search=service%20worker">caniuse.com</a>.
          Notifikace tedy nebudou fungovat.
        </p>
    </div>

      <p id="push-subscription-permission-denied" style="display: none">
        Zdá se, že jste pro tuto stránku zakázali notifikace. Pokud si chcete
        toto demo opravdu užít, klikněte na visací zámek na adresním řádku
        a změňte nastavení.
      </p>


      <div class="explanation">
        <h4>Service Worker</h4>
        <p>Tato stránka se „nainstalovala“ pouhým otevřením. Pravda, umí jenom posílat notifikace. Ale nebyl by problém implementovat i offline funkcionalitu.</p>
        <p>Pokud i vy chcete své stránce dodat funkcionalitu, kterou tu vidíte, budou vás možná zajímat následující odkazy:</p>
        <ul>
          <li><a href="http://www.w3.org/TR/service-workers/">Service Worker</a> na W3C (suché a akademické, ale je to zdrojový dokument)</li>
          <li><a href="https://developers.google.com/web/updates/2015/03/push-notificatons-on-the-open-web">Service Worker tutoriál</a> (včetně dema a jeho kódu)</li>
          <li><code>chrome://serviceworker-internals</code> (podívejte se, kde všude jste už nevědomky na Service Workers narazili)</li>
          <li><a href="https://developer.chrome.com/multidevice/android/installtohomescreen">Add to Homescreen tutoriál</a> (důvod, proč si můžete můj ksicht dát na plochu)</li>
          <li><a href="https://www.firebase.com/">Firebase</a> (důvod, proč se hláška i počet odběratelů updatují v reálném čase)</li>
          <li><a href="https://www.dartlang.org/">Dart</a> (důvod, proč je zdroják čitelný a nemá callback hell i přes značnou míru asynchronie)</li>
          <li><a href="https://github.com/filiph/service_worker_helper/">Kód této stránky</a> (na githubu)</li>
        </ul>
        <p>Pokud vás zajímají pokročilé technologie na webu obecně, podívejte se ještě na moji
          <a href="http://filiph.net/eshop-ai/">umělou inteligenci</a> nebo
          <a href="http://filiph.net/fuzzy/">fuzzy logiku</a> pro weby.</p>
        <p class="signature">
          &mdash; Filip Hráček<br/>
          <a rel="author" href="https://plus.google.com/u/0/+filiphracek/posts">Google+</a> // <a href="https://twitter.com/filiphracek">Twitter</a>
        </p>
      </div>
    </div>
  </main>

</body>
</html>
